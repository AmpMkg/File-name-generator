<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Amplified File Name Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: 40px auto;
      padding: 0 20px;
      line-height: 1.6;
    }

    h1 {
      text-align: center;
    }

    label {
      display: block;
      margin-top: 18px;
      font-weight: bold;
    }

    input[type="text"],
    input[type="date"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }

    .radio-group {
      margin-top: 5px;
    }

    .output {
      margin-top: 25px;
      font-size: 1.1em;
      font-weight: bold;
      background: #f4f4f4;
      padding: 12px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      word-break: break-all;
    }

    button {
      padding: 8px 12px;
      cursor: pointer;
    }

    .success {
      color: green;
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>Amplified File Name Generator</h1>

  <label>Client Name</label>
  <input type="text" id="clientName" placeholder="e.g., Heineken">

  <label>Document Name</label>
  <input type="text" id="docName" placeholder="e.g., Event Recap Deck">

  <label>Status</label>
  <div class="radio-group">
    <input type="radio" name="status" id="today" checked> Todayâ€™s Date
    <input type="radio" name="status" id="custom"> Custom Date
    <input type="radio" name="status" id="final"> FINAL
  </div>

  <input type="date" id="customDate" style="display:none; margin-top:10px;">

  <div id="versionContainer">
    <label>Version Number</label>
    <input type="text" id="version" placeholder="e.g., V01">
  </div>

  <label>Department</label>
  <input type="text" id="department" placeholder="CST">

  <label>Owner Initials</label>
  <input type="text" id="owner" placeholder="AP">

  <div class="output">
    <span id="generatedName">Your file name will appear here</span>
    <button id="copyBtn">Copy</button>
  </div>

  <div class="success" id="successMsg" style="display:none;">Done!</div>

  <script>
    const clientNameInput = document.getElementById('clientName');
    const docNameInput = document.getElementById('docName');
    const todayRadio = document.getElementById('today');
    const customRadio = document.getElementById('custom');
    const finalRadio = document.getElementById('final');
    const customDateInput = document.getElementById('customDate');
    const versionInput = document.getElementById('version');
    const versionContainer = document.getElementById('versionContainer');
    const departmentInput = document.getElementById('department');
    const ownerInput = document.getElementById('owner');
    const output = document.getElementById('generatedName');
    const copyBtn = document.getElementById('copyBtn');
    const successMsg = document.getElementById('successMsg');

    function toTitleCase(str) {
      return str.replace(/\w\S*/g, txt =>
        txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase()
      );
    }

    function removeSpaces(str) {
      return str.replace(/\s+/g, '');
    }

    function formatDate(dateStr) {
      if (!dateStr) return 'MM-DD';
      const parts = dateStr.split('-'); // YYYY-MM-DD
      return `${parts[1]}-${parts[2]}`;
    }

    function generateFileName() {
      const client = removeSpaces(clientNameInput.value); // exactly as typed
      const doc = removeSpaces(toTitleCase(docNameInput.value));
      const dept = removeSpaces(departmentInput.value.toUpperCase());
      const owner = removeSpaces(ownerInput.value);

      let status = '';

      if (todayRadio.checked) {
        const today = new Date();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        status = `${mm}-${dd}`;
        customDateInput.style.display = 'none';
        versionContainer.style.display = 'block';
      } else if (customRadio.checked) {
        customDateInput.style.display = 'block';
        status = formatDate(customDateInput.value);
        versionContainer.style.display = 'block';
      } else if (finalRadio.checked) {
        status = 'FINAL';
        customDateInput.style.display = 'none';
        versionContainer.style.display = 'none';
      }

      const version =
        versionContainer.style.display === 'none'
          ? ''
          : removeSpaces(versionInput.value);

      const versionPart = version ? `_${version}` : '';

      output.textContent =
        `${client}_${doc}_${dept}_${status}${versionPart}_${owner}`;

      successMsg.style.display = 'none';
    }

    [
      clientNameInput,
      docNameInput,
      versionInput,
      departmentInput,
      ownerInput
    ].forEach(input => input.addEventListener('input', generateFileName));

    [todayRadio, customRadio, finalRadio].forEach(radio =>
      radio.addEventListener('change', generateFileName)
    );

    customDateInput.addEventListener('change', generateFileName);

    copyBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(output.textContent).then(() => {
        successMsg.style.display = 'block';
        setTimeout(() => {
          successMsg.style.display = 'none';
        }, 2000);
      });
    });

    generateFileName();
  </script>

</body>
</html>
